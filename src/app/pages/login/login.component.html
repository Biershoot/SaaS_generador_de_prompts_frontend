<div class="auth-container">
  <mat-card class="login-card">
    <mat-card-header class="login-header">
      <mat-card-title class="login-title">
        <h2 class="title-text">Iniciar Sesión</h2>
      </mat-card-title>
      <mat-card-subtitle class="login-subtitle">
        Accede con tu email o usuario para generar prompts increíbles
      </mat-card-subtitle>
    </mat-card-header>

    <mat-card-content class="login-content">
      <!-- Mensajes de error y éxito -->
      <div *ngIf="errorMessage" class="error-message">
        <mat-icon>error</mat-icon>
        {{ errorMessage }}
      </div>

      <div *ngIf="successMessage" class="success-message">
        <mat-icon>check_circle</mat-icon>
        {{ successMessage }}
      </div>

      <form (ngSubmit)="login()" class="auth-form">
        <!-- Campo de Usuario/Email -->
        <div class="form-field-container">
          <mat-form-field appearance="outline" class="full-width username-field">
            <mat-label>Email o Usuario</mat-label>
            <input
              matInput
              type="text"
              [(ngModel)]="username"
              name="username"
              placeholder="ejemplo@correo.com o tu_usuario"
              required
              autocomplete="username">
          </mat-form-field>
        </div>

        <!-- Campo de Contraseña -->
        <div class="form-field-container">
          <mat-form-field appearance="outline" class="full-width password-field">
            <mat-label>Contraseña</mat-label>
            <input
              matInput
              type="password"
              [(ngModel)]="password"
              name="password"
              placeholder="••••••••"
              required
              autocomplete="current-password">
          </mat-form-field>
        </div>

        <!-- Botón de Login -->
        <div class="auth-actions">
          <button
            mat-raised-button
            color="primary"
            type="submit"
            class="login-button"
            [disabled]="loading || !username || !password">
            <mat-icon *ngIf="loading" class="loading-icon">autorenew</mat-icon>
            <span *ngIf="!loading">Iniciar Sesión</span>
            <span *ngIf="loading">Iniciando sesión...</span>
          </button>
        </div>
      </form>

      <!-- Enlaces adicionales -->
      <div class="additional-links">
        <p class="register-link">
          ¿No tienes una cuenta?
          <a routerLink="/register" class="link">Regístrate aquí</a>
        </p>
        <a href="#" class="forgot-password-link">¿Olvidaste tu contraseña?</a>
      </div>
    </mat-card-content>
  </mat-card>
</div>
